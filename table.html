<html>
    <body>

        <table border="1" id="table1">
            <thead>
                <th data-field="name">이름</th>
                <th data-field="address">주소</th>
                <th data-field="gender">성별</th>
                <th data-field="id">아이디</th>
                <th data-field="regDate">가입일</th>
                <th data-field="btn">유저삭제</th>
                <th data-field="btnModify">유저수정</th>
            </thead>
            <!-- <tr>
                <td>6성재</td>
                <td>서울</td>
                <td>남자</td>
                <td>six_sj</td>
                <td>2017-09-24</td>
                <td><input type='button' value="삭제"></td>
            </tr> -->
            <tbody id="tb1"></tbody>
        </table>
        <div id="nodeDiv"></div>
    </body>
    <script>
        var tableObj = document.getElementById("table1");
        var nodes = tableObj.childNodes;
        var divObj = document.getElementById("nodeDiv");
        var thObj = nodes[1].childNodes;
        var trObj = thObj[1].childNodes;
        var keyStrs = new Array();
        for(var i = 0 ; i < trObj.length ; i++){
            var tro = trObj[i];
            try{
                if(tro.getAttribute("data-field") != null){
                    //divObj.innerHTML += tro;
                    keyStrs[keyStrs.length] = tro.getAttribute("data-field"); // ****권장사항*****
                    //console.log(tro);
                }
            }catch(e){

            }
            //divObj.innerHTML += trObj[i];
            //console.log(trObj[i]);
        }
        divObj.innerHTML += keyStrs;

        var tbList = {};
        tbList["name"] = "six성재";
        tbList["address"] = "서울";
        tbList["gender"] = "male";
        tbList["id"] = "sixman";
        tbList["regDate"] = "2017-09-24";
        tbList["btn"] = "<input type='button' value='삭제' data-func='delete'>";
        tbList["btnModify"] = "<input type='button' value='수정' data-func='modify'>";

        var tb1Str = "";

        tb1Str += "<tr>";
        for(var i = 0, max = keyStrs.length; i < max; i++){
            tb1Str += "<td>" ; 
            if(!tbList[keyStrs[i]]){
                tb1Str += "-"
            }else{
                tb1Str += tbList[keyStrs[i]]; 
            }
            tb1Str += "</td>" ; 
           // tb1Str += "<td>" + tbList[keyStrs[i]] + "</td>";
        }
        tb1Str += "</tr>";

        // tb1Str += "<tr>";
        // tb1Str += "<td>" + tbList["name"] + "</td>";
        // tb1Str += "<td>" + tbList["address"] + "</td>";
        // tb1Str += "<td>" + tbList["gender"] + "</td>";
        // tb1Str += "<td>" + tbList["id"] + "</td>";
        // tb1Str += "<td>" + tbList["regDate"] + "</td>";
        // tb1Str += "<td>" + tbList["btn"] + "</td>";
        // tb1Str += "</tr>";
        var tbObj = document.getElementById("tb1");
        var inputObj = document.getElementsByTagName("input");
        var testFuc = function(f){
            alert("ㅋㅋㅋㅋㅋㅋ");
        }

        tbObj.innerHTML = tb1Str;
        //alert(tableObj.getAttribute("id"));  
        for(var i = 0, max = inputObj.length; i < max; i++){
            var iObj = inputObj[i];
            if(iObj.getAttribute("type") === "button"){
                //iObj.onclick = testFuc;
                iObj.onclick = function(){
                    // alert(this.value);
                    // if(this.value == "수정" ){
                    //  alert("수정 버튼 클릭");
                    // }else if(this.value == "삭제" ){
                    //  alert("삭제 버튼 클릭")
                    // }
                    if(this.getAttribute("data-func") === "delete" ){
                        alert("삭제 버튼 클릭!!!!!!!");
                    }else if(this.getAttribute("data-func") === "modify" ){
                        alert("수정 버튼 클릭!!!!!!!");
                    }
                }
            }
        }

    </script>
</html>
